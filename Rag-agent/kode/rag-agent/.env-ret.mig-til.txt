# ============================================================
# PÅKRÆVEDE INDSTILLINGER
# ============================================================

# OpenAI API Key
OPENAI_API_KEY="din egen kode"

# Internal API Secret (til NGINX proxy verification)
# Generer med: python3 -c "import secrets; print(secrets.token_urlsafe(16))"
API_SECRET_KEY="din egen kode"

# ============================================================
# JWT AUTHENTICATION (valgfri - slå til for bruger-login)
# ============================================================

# Aktiver JWT (true/false)
JWT_ENABLED=true

# JWT Secret Key (PÅKRÆVET hvis JWT_ENABLED=true, min 32 tegn)
# Generer med: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY="din egen kode"

# Token udløbstider
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Default admin password (kun ved første opstart - SKIFT STRAKS!)
DEFAULT_ADMIN_PASSWORD="din egen kode"
# ============================================================
# AZURE AD / ENTRA ID SSO (valgfri - slå til for Microsoft login)
# ============================================================
# 
# Sådan opsætter du Azure AD:
# 1. Gå til Azure Portal → Azure Active Directory → App registrations
# 2. Klik "New registration"
# 3. Navn: "AI Chat RAG" (eller hvad du vil)
# 4. Supported account types: Vælg passende for din organisation
# 5. Redirect URI: Web → hthttps://xxxxx.zzzzzz.dk/api/auth/azure/callback
# 6. Klik "Register"
# 7. Kopiér "Application (client) ID" → AZURE_AD_CLIENT_ID
# 8. Kopiér "Directory (tenant) ID" → AZURE_AD_TENANT_ID
# 9. Gå til "Certificates & secrets" → "New client secret"
# 10. Kopiér secret value → AZURE_AD_CLIENT_SECRET
#
# API Permissions (påkrævet):
# - Microsoft Graph → User.Read (Delegated)
# - Microsoft Graph → openid (Delegated)
# - Microsoft Graph → profile (Delegated)
# - Microsoft Graph → email (Delegated)
# ============================================================

# Aktiver Azure AD SSO (true/false)
AZURE_AD_ENABLED=false

# Azure AD Tenant ID (Directory ID)
AZURE_AD_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Azure AD Client ID (Application ID)
AZURE_AD_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Azure AD Client Secret
AZURE_AD_CLIENT_SECRET=your-client-secret-value

# Redirect URI (skal matche Azure AD app registration)
AZURE_AD_REDIRECT_URI=https://xxxxx.zzzzzz.dk/api/auth/azure/callback

# ============================================================
# COOKIE SETTINGS (HttpOnly token sikkerhed)
# ============================================================
# Tokens gemmes nu i HttpOnly cookies for at forhindre XSS token-tyveri
# JavaScript kan IKKE læse disse cookies

# Cookie domæne (tomt = automatisk nuværende domæne)
# For cross-domain: .ditdomæne.dk (med punktum foran)
COOKIE_DOMAIN=

# Kun send cookies over HTTPS (sæt til false for localhost udvikling)
COOKIE_SECURE=false

# SameSite policy: "lax" (standard), "strict" (max sikkerhed), "none" (cross-origin)
# Brug "lax" for at tillade Azure AD OAuth redirects
COOKIE_SAMESITE=lax

# ============================================================
# CORS KONFIGURATION
# ============================================================
# Kommasepareret liste af tilladte origins
# VIGTIGT: Ingen trailing slashes! Og specifikke origins (ikke "*") med credentials
# Eksempel: https://example.com,http://localhost:3000
CORS_ORIGINS=https://xxxxxx.zzzz.dk,http://localhost:3000

# ============================================================
# AUDIT LOGGING (valgfri - slå til for request logging)
# ============================================================

# Aktiver audit logging (true/false)
AUDIT_LOGGING_ENABLED=true

# Log fil placering
AUDIT_LOG_FILE=/app/logs/audit.log

# Max størrelse per log fil i MB
AUDIT_LOG_MAX_SIZE_MB=100

# Antal backup filer
AUDIT_LOG_BACKUP_COUNT=5

# ============================================================
# GENERELLE INDSTILLINGER
# ============================================================

# Environment (development/production)
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Max sessions og timeout
MAX_SESSIONS=1000
SESSION_TIMEOUT_HOURS=2

# Token limits
MAX_INPUT_TOKENS=2500
MAX_OUTPUT_TOKENS=3000

# RAG settings
TOP_K=3

# OpenAI model
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.2
